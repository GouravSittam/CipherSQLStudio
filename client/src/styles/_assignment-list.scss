@use "./variables" as *;
@use "./mixins" as *;

// ============================================
// PREMIUM BRUTALIST THEME - Assignment List
// Stunning, Bold, Luxurious Monochrome
// Author: Gourav Chaudhary
//
// Premium card grid for browsing SQL challenges.
// ============================================

// Assignment List - Main Container
.assignment-list {
  @include container;
  max-width: 1200px;

  &__header {
    text-align: center;
    margin-bottom: $spacing-2xl;
    position: relative;
    animation: fadeInUp 0.6s ease-out;

    @include tablet {
      margin-bottom: $spacing-3xl;
    }

    // Decorative glow
    &::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: 300px;
      background: radial-gradient(
        circle,
        rgba(255, 255, 255, 0.05) 0%,
        transparent 70%
      );
      pointer-events: none;
      z-index: -1;
    }

    // Elegant label
    &::before {
      content: "// CHALLENGES";
      display: block;
      font-family: $font-family-mono;
      font-size: $font-size-xs;
      color: $color-text-muted;
      text-transform: uppercase;
      letter-spacing: 0.4em;
      margin-bottom: $spacing-lg;
    }
  }

  &__title {
    font-size: $font-size-3xl;
    font-weight: $font-weight-black;
    color: $color-text;
    margin-bottom: $spacing-md;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    position: relative;
    display: inline-block;
    @include text-glow;

    @include tablet {
      font-size: $font-size-4xl;
    }
  }

  &__subtitle {
    color: $color-text-muted;
    font-size: $font-size-base;
    font-weight: $font-weight-normal;
    max-width: 600px;
    margin: 0 auto;
    font-family: $font-family-mono;
    line-height: 1.8;

    &::before {
      content: "→ ";
      color: rgba(255, 255, 255, 0.3);
    }

    @include tablet {
      font-size: $font-size-lg;
    }
  }

  &__filters {
    display: flex;
    gap: $spacing-sm;
    margin-bottom: $spacing-xl;
    flex-wrap: wrap;
    justify-content: center;

    // Premium glass container
    padding: $spacing-sm;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.04) 0%,
      rgba(255, 255, 255, 0.01) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: $radius-xl;
    backdrop-filter: blur(10px);

    @include tablet {
      gap: $spacing-md;
      padding: $spacing-md;
    }
  }

  &__loading,
  &__error,
  &__empty {
    @include flex-center;
    @include flex-column;
    padding: $spacing-3xl;
    text-align: center;
    gap: $spacing-lg;

    // Premium glass box
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.04) 0%,
      rgba(255, 255, 255, 0.01) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: $radius-xl;
    box-shadow: $shadow-glass;
  }

  &__loading {
    color: $color-text-light;

    &::before {
      content: "LOADING CHALLENGES";
      font-family: $font-family-mono;
      font-size: $font-size-sm;
      color: $color-text-muted;
      letter-spacing: 0.2em;
      animation: pulse-glow 2s ease-in-out infinite;
    }
  }

  &__error {
    color: $color-text;
    border-color: rgba(255, 255, 255, 0.2);

    &::before {
      content: "⚠ ERROR";
      font-family: $font-family-mono;
      font-size: $font-size-lg;
      font-weight: $font-weight-bold;
      letter-spacing: 0.1em;
    }
  }

  &__empty {
    color: $color-text-muted;

    &::before {
      content: "◈";
      font-size: $font-size-4xl;
      opacity: 0.3;
    }
  }

  &__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: $spacing-lg;

    @include tablet {
      grid-template-columns: repeat(2, 1fr);
      gap: $spacing-xl;
    }

    @include desktop {
      grid-template-columns: repeat(3, 1fr);
    }
  }
}

@keyframes blink {
  50% {
    opacity: 0;
  }
}

// Assignment Card - Premium Glass Card
.assignment-card {
  @include card;
  cursor: pointer;
  transition: all $transition-slow;
  @include flex-column;
  gap: $spacing-lg;
  position: relative;
  animation: fadeInUp 0.5s ease-out backwards;

  // Staggered animation delay based on nth-child
  @for $i from 1 through 12 {
    &:nth-child(#{$i}) {
      animation-delay: #{$i * 0.05}s;
    }
  }

  // Stunning gradient border effect on hover
  &::before {
    content: "";
    position: absolute;
    top: -1px;
    left: -1px;
    right: -1px;
    height: 2px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.6) 50%,
      transparent 100%
    );
    transform: scaleX(0);
    transform-origin: center;
    transition: transform $transition-slow;
    border-radius: $radius-lg $radius-lg 0 0;
    z-index: 1;
  }

  // Corner glow effect
  &::after {
    content: "";
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.08) 0%,
      transparent 50%
    );
    opacity: 0;
    transition: opacity $transition-slow;
    pointer-events: none;
  }

  &:hover {
    transform: translateY(-8px);
    box-shadow: $shadow-glass-hover;
    border-color: rgba(255, 255, 255, 0.25);

    &::before {
      transform: scaleX(1);
    }

    &::after {
      opacity: 1;
    }
  }

  &:active {
    transform: translateY(-4px);
    box-shadow: $shadow-glass;
  }

  &__header {
    @include flex-between;
    align-items: flex-start;
    gap: $spacing-md;
  }

  &__title {
    font-size: $font-size-lg;
    font-weight: $font-weight-bold;
    color: $color-text;
    flex: 1;
    text-transform: uppercase;
    letter-spacing: 0.03em;
    line-height: 1.4;
    transition: all $transition-base;

    @include tablet {
      font-size: $font-size-xl;
    }
  }

  &:hover &__title {
    @include text-glow;
  }

  &__difficulty {
    padding: $spacing-xs $spacing-md;
    font-size: $font-size-xs;
    font-weight: $font-weight-semibold;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    white-space: nowrap;
    border-radius: $radius-pill;
    border: 1px solid;
    backdrop-filter: blur(10px);
    transition: all $transition-base;

    // Premium difficulty badges
    &--easy {
      background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.08) 0%,
        rgba(255, 255, 255, 0.02) 100%
      );
      color: $color-text;
      border-color: rgba(255, 255, 255, 0.15);

      &::before {
        content: "◇ ";
        opacity: 0.6;
      }
    }

    &--medium {
      background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.12) 0%,
        rgba(255, 255, 255, 0.04) 100%
      );
      color: $color-text;
      border-color: rgba(255, 255, 255, 0.2);

      &::before {
        content: "◈ ";
        opacity: 0.7;
      }
    }

    &--hard {
      background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.18) 0%,
        rgba(255, 255, 255, 0.06) 100%
      );
      color: $color-text;
      border-color: rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);

      &::before {
        content: "◆ ";
        opacity: 0.8;
      }
    }
  }

  &__question {
    color: $color-text-light;
    font-size: $font-size-sm;
    line-height: 1.8;
    flex: 1;
    font-family: $font-family-base;
    padding: $spacing-md;
    background: rgba(255, 255, 255, 0.02);
    border-left: 2px solid rgba(255, 255, 255, 0.15);
    border-radius: 0 $radius-md $radius-md 0;
    transition: all $transition-base;

    @include tablet {
      font-size: $font-size-base;
    }
  }

  &:hover &__question {
    border-left-color: rgba(255, 255, 255, 0.4);
    background: rgba(255, 255, 255, 0.04);
  }

  &__tags {
    display: flex;
    gap: $spacing-sm;
    flex-wrap: wrap;
  }

  &__tag {
    padding: $spacing-xs $spacing-sm;
    background: rgba(255, 255, 255, 0.03);
    font-size: $font-size-xs;
    color: $color-text-muted;
    font-family: $font-family-mono;
    text-transform: lowercase;
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: $radius-pill;
    transition: all $transition-base;
    letter-spacing: 0.05em;

    &::before {
      content: "#";
      opacity: 0.5;
    }

    &:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.2);
      color: $color-text;
    }
  }

  &__btn {
    @include button-base;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.95) 0%,
      rgba(255, 255, 255, 0.85) 100%
    );
    color: $color-bg;
    border: none;
    box-shadow: $shadow-glass, 0 0 20px rgba(255, 255, 255, 0.1);
    width: 100%;
    text-align: center;
    margin-top: auto;
    font-size: $font-size-base;
    border-radius: $radius-lg;
    font-weight: $font-weight-bold;

    // Play button style
    &::after {
      content: " →";
      transition: transform $transition-base;
      display: inline-block;
    }

    &:hover {
      background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 1) 0%,
        rgba(255, 255, 255, 0.9) 100%
      );
      transform: translateY(-3px);
      box-shadow: $shadow-xl, 0 0 40px rgba(255, 255, 255, 0.2);

      &::after {
        transform: translateX(4px);
      }
    }

    &:active {
      transform: translateY(-1px);
      box-shadow: $shadow-md;
    }
  }
}
